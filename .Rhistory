folder <- "Raw Data/Raw_Egg_Counts/"   # adjust if needed
folder_path <- "Raw Data/Raw_Egg_Counts/"
# Get all CSV file names in the folder
files <- list.files(path = folder_path, pattern = "\\.csv$", full.names = TRUE)
files <- list.files(path = folder, pattern = "\\.csv$", full.names = TRUE)
files <- list.files(path = folder, pattern = "\\.csv$", full.names = TRUE)
folder <- "Raw Data/Raw_Egg_Counts/"   # adjust if needed
files <- list.files(path = folder, pattern = "\\.csv$", full.names = TRUE)
file_melika <- files[grepl("melika", tolower(basename(files)))]
file_eva    <- files[grepl("eva", tolower(basename(files)))]
mel <- read.csv(file_melika[1], stringsAsFactors = FALSE)
eva <- read.csv(file_eva[1],    stringsAsFactors = FALSE)
id_col_m <- names(mel)[1]      # assume ID is first column
count_col_m <- names(mel)[2]   # assume count is second column
id_col_e <- names(eva)[1]
count_col_e <- names(eva)[2]
names(mel)[names(mel) == id_col_m]    <- "ID"
names(mel)[names(mel) == count_col_m] <- "CountMelika"
names(eva)[names(eva) == id_col_e]    <- "ID"
names(eva)[names(eva) == count_col_e] <- "CountEva"
View(eva)
names(mel)[names(mel) == id_col_m]    <- "ID"
names(mel)[names(mel) == count_col_m] <- "CountMelika"
names(eva)[names(eva) == id_col_e]    <- "ID"
names(eva)[names(eva) == count_col_e] <- "CountEva"
combined <- merge(mel, eva, by = "ID", all = TRUE)
View(combined)
folder <- "Raw Data/Raw_Egg_Counts/"   # adjust if needed
files <- list.files(folder, pattern = "\.csv$", full.names = TRUE)
file_melika <- files[grepl("melika", tolower(basename(files)))]
file_eva    <- files[grepl("eva|ena|evan", tolower(basename(files)))]
files <- list.files(folder, pattern = "\.csv$", full.names = TRUE)
folder <- "Raw Data/Raw_Egg_Counts/"   # adjust if needed
files <- list.files(folder, pattern = "\\.csv$", full.names = TRUE)
file_melika <- files[grepl("melika", tolower(basename(files)))]
file_eva    <- files[grepl("eva|ena|evan", tolower(basename(files)))]
melika <- read.csv(file_melika[1], stringsAsFactors = FALSE)
eva <- read.csv(file_eva[1],    stringsAsFactors = FALSE)
id_col_m <- names(melika)[1]      # assume ID is first column
count_col_m <- names(melika)[2]   # assume count is second column
id_col_e <- names(eva)[1]
count_col_e <- names(eva)[2]
names(melika)[names(melika) == id_col_m]    <- "ID"
names(melika)[names(melika) == count_col_m] <- "CountMelika"
names(eva)[names(eva) == id_col_e]    <- "ID"
names(eva)[names(eva) == count_col_e] <- "CountEva"
combined <- merge(melika, eva, by = "ID", all = TRUE)
View(combined)
head(id)
head(combined)
# Use regular expressions to extract the parts
combined$Brood <- sub(".*vial14([A-Z])[0-9]+_validated", "\\1", combined$ID)
# Use regular expressions to extract the parts
combined$Brood <- sub(".*vial14([A-Z])[0-9]+_validated", "\\1", combined$ID)
combined$VialID <- sub(".*vial14[A-Z]0*([0-9]+)_validated", "\\1", combined$ID)
View(combined)
# Check the result
head(combined[, c("ID", "Brood", "VialID", "CountMelika", "CountEva")])
# Remove the ID column
combined$ID <- NULL
View(combined)
# Optional: reorder columns (Brood, VialID first)
combined <- combined[, c( "VialID","Brood", "CountMelika", "CountEva")]
# view head and save
write.csv(combined, "Raw Data/Raw_Egg_Counts/Combined_eggcount.csv", row.names = FALSE)
folder <- "Raw Data/Raw_Egg_Counts/"
files <- list.files(folder, pattern = "\\.csv$", full.names = TRUE)
file_melika <- files[grepl("melika", tolower(basename(files)))]
file_eva    <- files[grepl("eva", tolower(basename(files)))]
